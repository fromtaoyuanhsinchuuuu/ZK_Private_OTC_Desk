# Sanity check: expected lengths are 42/66/66/66
echo ${#SETTLE} ${#TX} ${#ORDER} ${#ATTEST}

# 1) Check transaction receipt (expect status: 0x1)
cast receipt $TX --rpc-url $RPC

# 2) Anti-replay flag for this order (should return true)
cast call $SETTLE "usedOrder(bytes32)(bool)" $ORDER --rpc-url $RPC

# 3) Attestation is bound to the orderHash (should equal $ORDER)
cast call $REG "subjectOf(bytes32)(bytes32)" $ATTEST --rpc-url $RPC

# 3b) Registry.isValid(attestationId, orderHash) (should return true)
cast call $REG "isValid(bytes32,bytes32)(bool)" $ATTEST $ORDER --rpc-url $RPC
